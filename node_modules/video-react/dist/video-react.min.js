(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("redux")):"function"==typeof define&&define.amd?define(["exports","react","redux"],t):(e=e||self,t(e["video-react"]={},e.React,e.Redux))})(this,function(e,t,a){'use strict';function n(e,t){for(var a,n=0;n<t.length;n++)a=t[n],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function o(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}function r(){return r=Object.assign||function(e){for(var t,a=1;a<arguments.length;a++)for(var n in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function d(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],0<=t.indexOf(a)||(o[a]=e[a]);return o}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function c(e,t){return t={exports:{}},e(t,t.exports),t.exports}function p(e){if(null===e||e===void 0)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function u(){}function h(){}function m(e,t){switch(void 0===e&&(e=tt),t.type){case"video-react/USER_ACTIVATE":return r({},e,{userActivity:t.activity});case"video-react/PLAYER_ACTIVATE":return r({},e,{isActive:t.activity});case"video-react/FULLSCREEN_CHANGE":return r({},e,{isFullscreen:!!t.isFullscreen});case"video-react/SEEKING_TIME":return r({},e,{seekingTime:t.time});case"video-react/END_SEEKING":return r({},e,{seekingTime:0});case"video-react/LOAD_START":return r({},e,t.videoProps,{hasStarted:!1,ended:!1});case"video-react/CAN_PLAY":return r({},e,t.videoProps,{waiting:!1});case"video-react/WAITING":return r({},e,t.videoProps,{waiting:!0});case"video-react/CAN_PLAY_THROUGH":case"video-react/PLAYING":return r({},e,t.videoProps,{waiting:!1});case"video-react/PLAY":return r({},e,t.videoProps,{ended:!1,paused:!1,autoPaused:!1,waiting:!1,hasStarted:!0});case"video-react/PAUSE":return r({},e,t.videoProps,{paused:!0});case"video-react/END":return r({},e,t.videoProps,{ended:!0});case"video-react/SEEKING":return r({},e,t.videoProps,{seeking:!0});case"video-react/SEEKED":return r({},e,t.videoProps,{seeking:!1});case"video-react/ERROR":return r({},e,t.videoProps,{error:"UNKNOWN ERROR",ended:!0});case"video-react/DURATION_CHANGE":case"video-react/TIME_UPDATE":case"video-react/VOLUME_CHANGE":case"video-react/PROGRESS_CHANGE":case"video-react/RATE_CHANGE":case"video-react/SUSPEND":case"video-react/ABORT":case"video-react/EMPTIED":case"video-react/STALLED":case"video-react/LOADED_META_DATA":case"video-react/LOADED_DATA":case"video-react/RESIZE":return r({},e,t.videoProps);case"video-react/ACTIVATE_TEXT_TRACK":return r({},e,{activeTextTrack:t.textTrack});default:return e;}}function v(e,t){switch(void 0===e&&(e=at),t.type){case"video-react/OPERATE":return r({},e,{count:e.count+1,operation:r({},e.operation,t.operation)});default:return e;}}function y(e,t){return void 0===e&&(e={}),{player:m(e.player,t),operation:v(e.operation,t)}}function g(e){var t=e.player,a=e.className;return t.error?null:O.createElement("div",{className:Xe("video-react-loading-spinner",a)})}function E(e){var t=e.poster,a=e.player,n=e.actions,o=e.className;return!t||a.hasStarted?null:O.createElement("div",{className:Xe("video-react-poster",o),style:{backgroundImage:"url(\""+t+"\")"},onClick:function(){a.paused&&n.play()}})}function b(e,t){var a=Math.floor;void 0===e&&(e=0),void 0===t&&(t=e);var n=a(e%60),o=a(e/60%60),r=a(e/3600),l=a(t/60%60),d=a(t/3600);return(it(e)||e===1/0)&&(r="-",o="-",n="-"),r=0<r||0<d?r+":":"",o=((r||10<=l)&&10>o?"0"+o:o)+":",n=10>n?"0"+n:n,r+o+n}function C(e){return!!(e.props&&e.props.isVideoChild)||"source"===e.type||"track"===e.type}function f(t,a,n,o){void 0===o&&(o=1);var l=O.Children.toArray(a),i=n.order,s=d(n,["order"]);return l.filter(function(t){return!t.props.disabled}).concat(t.filter(function(e){return!st(l,function(t){return ct(t,e)})})).map(function(a){var n=st(t,function(e){return ct(e,a)}),o=n?n.props:{},l=r({},s,o,a.props),d=O.cloneElement(a,l,a.props.children);return d}).sort(function(e,t){return(e.props.order||o)-(t.props.order||o)})}function k(e,t){console.warn("WARNING: "+e+" will be deprecated soon! Please use "+t+" instead.")}function T(e,t){var a=arguments,n=!1;return function(){n||(e.apply(void 0,a),n=!0,setTimeout(function(){n=!1},t))}}function P(e){var a,t=Math.round;if(e.getBoundingClientRect&&e.parentNode&&(a=e.getBoundingClientRect()),!a)return{left:0,top:0};var n=document,o=n.body,r=n.documentElement,l=r.clientLeft||o.clientLeft||0,d=window.pageXOffset||o.scrollLeft,i=a.left+d-l,s=r.clientTop||o.clientTop||0,c=window.pageYOffset||o.scrollTop,p=a.top+c-s;return{left:t(i),top:t(p)}}function S(e,t){var a=Math.max,n=Math.min,o={},r=P(e),l=e.offsetWidth,d=e.offsetHeight,i=r.top,s=r.left,c=t.pageY,p=t.pageX;return t.changedTouches&&(p=t.changedTouches[0].pageX,c=t.changedTouches[0].pageY),o.y=a(0,n(1,(i-c+d)/d)),o.x=a(0,n(1,(p-s)/l)),o}function N(e){e&&e.focus&&e.focus()}function A(e,t){for(var a=e.className.split(" "),n=0;n<a.length;n++)if(a[n].toLowerCase()===t.toLowerCase())return!0;return!1}function M(e){var t=e.currentTime,a=e.duration,n=e.percentage,o=e.className;return O.createElement("div",{"data-current-time":b(t,a),className:Xe("video-react-play-progress video-react-slider-bar",o),style:{width:n}},O.createElement("span",{className:"video-react-control-text"},"Progress: "+n))}function D(e){function t(e,t){var a=e/t||0;return 100*(1<=a?1:a)+"%"}var a=e.buffered,n=e.duration,o=e.className;if(!a||!a.length)return null;var r=a.end(a.length-1),l={};r>n&&(r=n),l.width=t(r,n);for(var d=[],s=0;s<a.length;s++){var c=a.start(s),p=a.end(s),u=O.createElement("div",{style:{left:t(c,r),width:t(p-c,r)},key:"part-"+s});d.push(u)}return 0===d.length&&(d=null),O.createElement("div",{style:l,className:Xe("video-react-load-progress",o)},O.createElement("span",{className:"video-react-control-text"},"Loaded: 0%"),d)}function w(e){var t=e.duration,a=e.mouseTime,n=e.className,o=e.text;if(!a.time)return null;var r=o||b(a.time,t);return O.createElement("div",{className:Xe("video-react-mouse-display",n),style:{left:a.position+"px"},"data-current-time":r})}function R(e){var t=e.player,a=t.currentTime,n=t.duration,o=e.className,r=b(n-a);return O.createElement("div",{className:Xe("video-react-remaining-time video-react-time-control video-react-control",o)},O.createElement("div",{className:"video-react-remaining-time-display","aria-live":"off"},O.createElement("span",{className:"video-react-control-text"},"Remaining Time "),"-"+r))}function I(e){var t=e.player,a=t.currentTime,n=t.duration,o=e.className,r=b(a,n);return O.createElement("div",{className:Xe("video-react-current-time video-react-time-control video-react-control",o)},O.createElement("div",{className:"video-react-current-time-display","aria-live":"off"},O.createElement("span",{className:"video-react-control-text"},"Current Time "),r))}function x(e){var t=e.player.duration,a=e.className,n=b(t);return O.createElement("div",{className:Xe(a,"video-react-duration video-react-time-control video-react-control")},O.createElement("div",{className:"video-react-duration-display","aria-live":"off"},O.createElement("span",{className:"video-react-control-text"},"Duration Time "),n))}function F(e){var t=e.separator,a=e.className;return O.createElement("div",{className:Xe("video-react-time-control video-react-time-divider",a),dir:"ltr"},O.createElement("div",null,O.createElement("span",null,t||"/")))}function L(e){var t=e.inline,a=e.className,n=r({},e);return delete n.children,delete n.inline,delete n.className,O.createElement(Kt,r({className:Xe(a,{"video-react-menu-button-inline":!!t,"video-react-menu-button-popup":!t},"video-react-control video-react-button video-react-menu-button")},n),O.createElement(Gt,e))}function _(e){var t=e.percentage,a=e.vertical,n=e.className,o={};return a?o.height=t:o.width=t,O.createElement("div",{className:Xe(n,"video-react-volume-level"),style:o},O.createElement("span",{className:"video-react-control-text"}))}var O="default"in t?t["default"]:t,B=c(function(a,o){function i(t){if("object"==typeof t&&null!==t){var o=t.$$typeof;switch(o){case v:switch(t=t.type,t){case E:case l:case d:case y:case e:case n:return t;default:switch(t=t&&t.$$typeof,t){case h:case m:case g:return t;default:return o;}}case b:case p:case c:return o;}}}function t(e){return i(e)===l}Object.defineProperty(o,"__esModule",{value:!0});var s="function"==typeof Symbol&&Symbol.for,v=s?Symbol.for("react.element"):60103,c=s?Symbol.for("react.portal"):60106,d=s?Symbol.for("react.fragment"):60107,e=s?Symbol.for("react.strict_mode"):60108,y=s?Symbol.for("react.profiler"):60114,g=s?Symbol.for("react.provider"):60109,h=s?Symbol.for("react.context"):60110,E=s?Symbol.for("react.async_mode"):60111,l=s?Symbol.for("react.concurrent_mode"):60111,m=s?Symbol.for("react.forward_ref"):60112,n=s?Symbol.for("react.suspense"):60113,p=s?Symbol.for("react.memo"):60115,b=s?Symbol.for("react.lazy"):60116;o.typeOf=i,o.AsyncMode=E,o.ConcurrentMode=l,o.ContextConsumer=h,o.ContextProvider=g,o.Element=v,o.ForwardRef=m,o.Fragment=d,o.Lazy=b,o.Memo=p,o.Portal=c,o.Profiler=y,o.StrictMode=e,o.Suspense=n,o.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===d||t===l||t===y||t===e||t===n||"object"==typeof t&&null!==t&&(t.$$typeof===b||t.$$typeof===p||t.$$typeof===g||t.$$typeof===h||t.$$typeof===m)},o.isAsyncMode=function(e){return t(e)||i(e)===E},o.isConcurrentMode=t,o.isContextConsumer=function(e){return i(e)===h},o.isContextProvider=function(e){return i(e)===g},o.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===v},o.isForwardRef=function(e){return i(e)===m},o.isFragment=function(e){return i(e)===d},o.isLazy=function(e){return i(e)===b},o.isMemo=function(e){return i(e)===p},o.isPortal=function(e){return i(e)===c},o.isProfiler=function(e){return i(e)===y},o.isStrictMode=function(t){return i(t)===e},o.isSuspense=function(e){return i(e)===n}});s(B);var U=B.typeOf,K=B.AsyncMode,j=B.ConcurrentMode,G=B.ContextConsumer,H=B.ContextProvider,V=B.Element,z=B.ForwardRef,W=B.Fragment,Y=B.Lazy,q=B.Memo,$=B.Portal,X=B.Profiler,Z=B.StrictMode,J=B.Suspense,Q=B.isValidElementType,ee=B.isAsyncMode,te=B.isConcurrentMode,ae=B.isContextConsumer,ne=B.isContextProvider,oe=B.isElement,re=B.isForwardRef,le=B.isFragment,de=B.isLazy,ie=B.isMemo,se=B.isPortal,ce=B.isProfiler,pe=B.isStrictMode,ue=B.isSuspense,he=c(function(){});s(he);var me=he.typeOf,ve=he.AsyncMode,ye=he.ConcurrentMode,ge=he.ContextConsumer,Ee=he.ContextProvider,be=he.Element,Ce=he.ForwardRef,fe=he.Fragment,ke=he.Lazy,Te=he.Memo,Pe=he.Portal,Se=he.Profiler,Ne=he.StrictMode,Ae=he.Suspense,Me=he.isValidElementType,De=he.isAsyncMode,we=he.isConcurrentMode,Re=he.isContextConsumer,Ie=he.isContextProvider,xe=he.isElement,Fe=he.isForwardRef,Le=he.isFragment,_e=he.isLazy,Oe=he.isMemo,Be=he.isPortal,Ue=he.isProfiler,Ke=he.isStrictMode,je=he.isSuspense,Ge=c(function(e){e.exports=B}),He=Object.getOwnPropertySymbols,Ve=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable,We=function(){var e=String.fromCharCode;try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var a={},n=0;10>n;n++)a["_"+e(n)]=n;var o=Object.getOwnPropertyNames(a).map(function(e){return a[e]});if("0123456789"!==o.join(""))return!1;var r={};return["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t"].forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e){for(var t,a,n=p(e),o=1;o<arguments.length;o++){for(var r in t=Object(arguments[o]),t)Ve.call(t,r)&&(n[r]=t[r]);if(He){a=He(t);for(var l=0;l<a.length;l++)ze.call(t,a[l])&&(n[a[l]]=t[a[l]])}}return n},Ye=Function.call.bind(Object.prototype.hasOwnProperty);h.resetWarningCache=u;var qe=function(){function e(e,t,a,n,o,r){if(r!=="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:h,resetWarningCache:u};return a.PropTypes=a,a},$e=c(function(e){e.exports=qe()}),Xe=c(function(e){(function(){function t(){for(var e,n=[],o=0;o<arguments.length;o++)if(e=arguments[o],e){var r=typeof e;if("string"===r||"number"===r)n.push(e);else if(Array.isArray(e)&&e.length){var l=t.apply(null,e);l&&n.push(l)}else if("object"===r)for(var d in e)a.call(e,d)&&e[d]&&n.push(d)}return n.join(" ")}var a={}.hasOwnProperty;e.exports?(t.default=t,e.exports=t):window.classNames=t})()}),Ze=Object.freeze({LOAD_START:"video-react/LOAD_START",CAN_PLAY:"video-react/CAN_PLAY",WAITING:"video-react/WAITING",CAN_PLAY_THROUGH:"video-react/CAN_PLAY_THROUGH",PLAYING:"video-react/PLAYING",PLAY:"video-react/PLAY",PAUSE:"video-react/PAUSE",END:"video-react/END",SEEKING:"video-react/SEEKING",SEEKED:"video-react/SEEKED",SEEKING_TIME:"video-react/SEEKING_TIME",END_SEEKING:"video-react/END_SEEKING",DURATION_CHANGE:"video-react/DURATION_CHANGE",TIME_UPDATE:"video-react/TIME_UPDATE",VOLUME_CHANGE:"video-react/VOLUME_CHANGE",PROGRESS_CHANGE:"video-react/PROGRESS_CHANGE",RATE_CHANGE:"video-react/RATE_CHANGE",SUSPEND:"video-react/SUSPEND",ABORT:"video-react/ABORT",EMPTIED:"video-react/EMPTIED",STALLED:"video-react/STALLED",LOADED_META_DATA:"video-react/LOADED_META_DATA",LOADED_DATA:"video-react/LOADED_DATA",RESIZE:"video-react/RESIZE",ERROR:"video-react/ERROR",ACTIVATE_TEXT_TRACK:"video-react/ACTIVATE_TEXT_TRACK",handleLoadStart:function(e){return{type:"video-react/LOAD_START",videoProps:e}},handleCanPlay:function(e){return{type:"video-react/CAN_PLAY",videoProps:e}},handleWaiting:function(e){return{type:"video-react/WAITING",videoProps:e}},handleCanPlayThrough:function(e){return{type:"video-react/CAN_PLAY_THROUGH",videoProps:e}},handlePlaying:function(e){return{type:"video-react/PLAYING",videoProps:e}},handlePlay:function(e){return{type:"video-react/PLAY",videoProps:e}},handlePause:function(e){return{type:"video-react/PAUSE",videoProps:e}},handleEnd:function(e){return{type:"video-react/END",videoProps:e}},handleSeeking:function(e){return{type:"video-react/SEEKING",videoProps:e}},handleSeeked:function(e){return{type:"video-react/SEEKED",videoProps:e}},handleDurationChange:function(e){return{type:"video-react/DURATION_CHANGE",videoProps:e}},handleTimeUpdate:function(e){return{type:"video-react/TIME_UPDATE",videoProps:e}},handleVolumeChange:function(e){return{type:"video-react/VOLUME_CHANGE",videoProps:e}},handleProgressChange:function(e){return{type:"video-react/PROGRESS_CHANGE",videoProps:e}},handleRateChange:function(e){return{type:"video-react/RATE_CHANGE",videoProps:e}},handleSuspend:function(e){return{type:"video-react/SUSPEND",videoProps:e}},handleAbort:function(e){return{type:"video-react/ABORT",videoProps:e}},handleEmptied:function(e){return{type:"video-react/EMPTIED",videoProps:e}},handleStalled:function(e){return{type:"video-react/STALLED",videoProps:e}},handleLoadedMetaData:function(e){return{type:"video-react/LOADED_META_DATA",videoProps:e}},handleLoadedData:function(e){return{type:"video-react/LOADED_DATA",videoProps:e}},handleResize:function(e){return{type:"video-react/RESIZE",videoProps:e}},handleError:function(e){return{type:"video-react/ERROR",videoProps:e}},handleSeekingTime:function(e){return{type:"video-react/SEEKING_TIME",time:e}},handleEndSeeking:function(e){return{type:"video-react/END_SEEKING",time:e}},activateTextTrack:function(e){return{type:"video-react/ACTIVATE_TEXT_TRACK",textTrack:e}}}),Je=function(){function e(){}var t=e.prototype;return t.request=function(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()},t.exit=function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},t.addEventListener=function(e){document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e)},t.removeEventListener=function(e){document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)},o(e,[{key:"isFullscreen",get:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}},{key:"enabled",get:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}}]),e}(),Qe=new Je,et=Object.freeze({OPERATE:"video-react/OPERATE",FULLSCREEN_CHANGE:"video-react/FULLSCREEN_CHANGE",PLAYER_ACTIVATE:"video-react/PLAYER_ACTIVATE",USER_ACTIVATE:"video-react/USER_ACTIVATE",handleFullscreenChange:function(e){return{type:"video-react/FULLSCREEN_CHANGE",isFullscreen:e}},activate:function(e){return{type:"video-react/PLAYER_ACTIVATE",activity:e}},userActivate:function(e){return{type:"video-react/USER_ACTIVATE",activity:e}},play:function(e){return void 0===e&&(e={action:"play",source:""}),this.video.play(),{type:"video-react/OPERATE",operation:e}},pause:function(e){return void 0===e&&(e={action:"pause",source:""}),this.video.pause(),{type:"video-react/OPERATE",operation:e}},togglePlay:function(e){return void 0===e&&(e={action:"toggle-play",source:""}),this.video.togglePlay(),{type:"video-react/OPERATE",operation:e}},seek:function(e,t){return void 0===t&&(t={action:"seek",source:""}),this.video.seek(e),{type:"video-react/OPERATE",operation:t}},forward:function(e,t){return void 0===t&&(t={action:"forward-"+e,source:""}),this.video.forward(e),{type:"video-react/OPERATE",operation:t}},replay:function(e,t){return void 0===t&&(t={action:"replay-"+e,source:""}),this.video.replay(e),{type:"video-react/OPERATE",operation:t}},changeRate:function(e,t){return void 0===t&&(t={action:"change-rate",source:""}),this.video.playbackRate=e,{type:"video-react/OPERATE",operation:t}},changeVolume:function(e,t){void 0===t&&(t={action:"change-volume",source:""});var a=e;return 0>e&&(a=0),1<e&&(a=1),this.video.volume=a,{type:"video-react/OPERATE",operation:t}},mute:function(e,t){return void 0===t&&(t={action:e?"muted":"unmuted",source:""}),this.video.muted=e,{type:"video-react/OPERATE",operation:t}},toggleFullscreen:function(e){return Qe.enabled?(Qe.isFullscreen?Qe.exit():Qe.request(this.rootElement),{type:"video-react/OPERATE",operation:{action:"toggle-fullscreen",source:""}}):{type:"video-react/FULLSCREEN_CHANGE",isFullscreen:!e.isFullscreen}}}),tt={currentSrc:null,duration:0,currentTime:0,seekingTime:0,buffered:null,waiting:!1,seeking:!1,paused:!0,autoPaused:!1,ended:!1,playbackRate:1,muted:!1,volume:1,readyState:0,networkState:0,videoWidth:0,videoHeight:0,hasStarted:!1,userActivity:!0,isActive:!1,isFullscreen:!1,activeTextTrack:null},at={count:0,operation:{action:"",source:""}},nt=function(){function e(e){this.store=e||a.createStore(y),this.video=null,this.rootElement=null}var t=e.prototype;return t.getActions=function(){function e(e){return function(){var n=e.apply(t,arguments);"undefined"!=typeof n&&a(n)}}var t=this,a=this.store.dispatch,n=r({},et,Ze);return Object.keys(n).filter(function(e){return"function"==typeof n[e]}).reduce(function(t,a){return t[a]=e(n[a]),t},{})},t.getState=function(){return this.store.getState()},t.subscribeToStateChange=function(e,t){t||(t=this.getState.bind(this));var a=t(),n=function(){var n=t();if(n!==a){var o=a;a=n,e(n,o)}};return this.store.subscribe(n)},t.subscribeToOperationStateChange=function(e){var t=this;return this.subscribeToStateChange(e,function(){return t.getState().operation})},t.subscribeToPlayerStateChange=function(e){var t=this;return this.subscribeToStateChange(e,function(){return t.getState().player})},e}(),ot={actions:$e.object,player:$e.object,position:$e.string,className:$e.string},rt=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.handleClick=n.handleClick.bind(i(n)),n}l(t,e);var a=t.prototype;return a.componentDidMount=function(){},a.handleClick=function(){var e=this.props.actions;e.play()},a.render=function(){var e=this.props,t=e.player,a=e.position;return O.createElement("button",{className:Xe("video-react-big-play-button","video-react-big-play-button-"+a,this.props.className,{"big-play-button-hide":t.hasStarted||!t.currentSrc}),type:"button","aria-live":"polite",tabIndex:"0",onClick:this.handleClick},O.createElement("span",{className:"video-react-control-text"},"Play Video"))},t}(t.Component);rt.propTypes=ot,rt.defaultProps={position:"left"},rt.displayName="BigPlayButton";var lt={player:$e.object,className:$e.string};g.propTypes=lt,g.displayName="LoadingSpinner";var dt={poster:$e.string,player:$e.object,actions:$e.object,className:$e.string};E.propTypes=dt,E.displayName="PosterImage";var it=Number.isNaN||function(e){return e!==e},st=function(e,t){return e.filter(t)[0]},ct=function(e,t){var a=e.type,n=t.type;return"string"==typeof a||"string"==typeof n?a===n:!("function"!=typeof a||"function"!=typeof n)&&a.displayName===n.displayName},pt=["error","src","srcObject","currentSrc","crossOrigin","networkState","preload","buffered","readyState","seeking","currentTime","duration","paused","defaultPlaybackRate","playbackRate","played","seekable","ended","autoplay","loop","mediaGroup","controller","controls","volume","muted","defaultMuted","audioTracks","videoTracks","textTracks","width","height","videoWidth","videoHeight","poster"],ut={actions:$e.object,player:$e.object,children:$e.any,startTime:$e.number,loop:$e.bool,muted:$e.bool,autoPlay:$e.bool,playsInline:$e.bool,src:$e.string,poster:$e.string,className:$e.string,preload:$e.oneOf(["auto","metadata","none"]),crossOrigin:$e.string,onLoadStart:$e.func,onWaiting:$e.func,onCanPlay:$e.func,onCanPlayThrough:$e.func,onPlaying:$e.func,onEnded:$e.func,onSeeking:$e.func,onSeeked:$e.func,onPlay:$e.func,onPause:$e.func,onProgress:$e.func,onDurationChange:$e.func,onError:$e.func,onSuspend:$e.func,onAbort:$e.func,onEmptied:$e.func,onStalled:$e.func,onLoadedMetadata:$e.func,onLoadedData:$e.func,onTimeUpdate:$e.func,onRateChange:$e.func,onVolumeChange:$e.func,onResize:$e.func},ht=function(e){function t(t){var a;return a=e.call(this,t)||this,a.video=null,a.play=a.play.bind(i(a)),a.pause=a.pause.bind(i(a)),a.seek=a.seek.bind(i(a)),a.forward=a.forward.bind(i(a)),a.replay=a.replay.bind(i(a)),a.toggleFullscreen=a.toggleFullscreen.bind(i(a)),a.getProperties=a.getProperties.bind(i(a)),a.renderChildren=a.renderChildren.bind(i(a)),a.handleLoadStart=a.handleLoadStart.bind(i(a)),a.handleCanPlay=a.handleCanPlay.bind(i(a)),a.handleCanPlayThrough=a.handleCanPlayThrough.bind(i(a)),a.handlePlay=a.handlePlay.bind(i(a)),a.handlePlaying=a.handlePlaying.bind(i(a)),a.handlePause=a.handlePause.bind(i(a)),a.handleEnded=a.handleEnded.bind(i(a)),a.handleWaiting=a.handleWaiting.bind(i(a)),a.handleSeeking=a.handleSeeking.bind(i(a)),a.handleSeeked=a.handleSeeked.bind(i(a)),a.handleFullscreenChange=a.handleFullscreenChange.bind(i(a)),a.handleError=a.handleError.bind(i(a)),a.handleSuspend=a.handleSuspend.bind(i(a)),a.handleAbort=a.handleAbort.bind(i(a)),a.handleEmptied=a.handleEmptied.bind(i(a)),a.handleStalled=a.handleStalled.bind(i(a)),a.handleLoadedMetaData=a.handleLoadedMetaData.bind(i(a)),a.handleLoadedData=a.handleLoadedData.bind(i(a)),a.handleTimeUpdate=a.handleTimeUpdate.bind(i(a)),a.handleRateChange=a.handleRateChange.bind(i(a)),a.handleVolumeChange=a.handleVolumeChange.bind(i(a)),a.handleDurationChange=a.handleDurationChange.bind(i(a)),a.handleProgress=T(a.handleProgress.bind(i(a)),250),a.handleKeypress=a.handleKeypress.bind(i(a)),a.handleTextTrackChange=a.handleTextTrackChange.bind(i(a)),a}l(t,e);var a=t.prototype;return a.componentDidMount=function(){this.forceUpdate(),this.video&&this.video.textTracks&&(this.video.textTracks.onaddtrack=this.handleTextTrackChange,this.video.textTracks.onremovetrack=this.handleTextTrackChange)},a.getProperties=function(){var e=this;return this.video?pt.reduce(function(t,a){return t[a]=e.video[a],t},{}):null},a.handleTextTrackChange=function(){var e=this.props,t=e.actions,a=e.player;if(this.video&&this.video.textTracks){var n=Array.from(this.video.textTracks).find(function(e){return"showing"===e.mode});n!==a.activeTextTrack&&t.activateTextTrack(n)}},a.play=function(){var e=this.video.play();void 0!==e&&e.catch(function(){}).then(function(){})},a.pause=function(){var e=this.video.pause();void 0!==e&&e.catch(function(){}).then(function(){})},a.load=function(){this.video.load()},a.addTextTrack=function(){var e;(e=this.video).addTextTrack.apply(e,arguments)},a.canPlayType=function(){var e;(e=this.video).canPlayType.apply(e,arguments)},a.togglePlay=function(){this.video.paused?this.play():this.pause()},a.seek=function(e){try{this.video.currentTime=e}catch(t){}},a.forward=function(e){this.seek(this.video.currentTime+e)},a.replay=function(e){this.forward(-e)},a.toggleFullscreen=function(){var e=this.props,t=e.player,a=e.actions;a.toggleFullscreen(t)},a.handleLoadStart=function(){var e=this.props,t=e.actions,a=e.onLoadStart;t.handleLoadStart(this.getProperties()),a&&a.apply(void 0,arguments)},a.handleCanPlay=function(){var e=this.props,t=e.actions,a=e.onCanPlay;t.handleCanPlay(this.getProperties()),a&&a.apply(void 0,arguments)},a.handleCanPlayThrough=function(){var e=this.props,t=e.actions,a=e.onCanPlayThrough;t.handleCanPlayThrough(this.getProperties()),a&&a.apply(void 0,arguments)},a.handlePlaying=function(){var e=this.props,t=e.actions,a=e.onPlaying;t.handlePlaying(this.getProperties()),a&&a.apply(void 0,arguments)},a.handlePlay=function(){var e=this.props,t=e.actions,a=e.onPlay;t.handlePlay(this.getProperties()),a&&a.apply(void 0,arguments)},a.handlePause=function(){var e=this.props,t=e.actions,a=e.onPause;t.handlePause(this.getProperties()),a&&a.apply(void 0,arguments)},a.handleDurationChange=function(){var e=this.props,t=e.actions,a=e.onDurationChange;t.handleDurationChange(this.getProperties()),a&&a.apply(void 0,arguments)},a.handleProgress=function(){var e=this.props,t=e.actions,a=e.onProgress;this.video&&t.handleProgressChange(this.getProperties()),a&&a.apply(void 0,arguments)},a.handleEnded=function(){var e=this.props,t=e.loop,a=e.player,n=e.actions,o=e.onEnded;t?(this.seek(0),this.play()):!a.paused&&this.pause(),n.handleEnd(this.getProperties()),o&&o.apply(void 0,arguments)},a.handleWaiting=function(){var e=this.props,t=e.actions,a=e.onWaiting;t.handleWaiting(this.getProperties()),a&&a.apply(void 0,arguments)},a.handleSeeking=function(){var e=this.props,t=e.actions,a=e.onSeeking;t.handleSeeking(this.getProperties()),a&&a.apply(void 0,arguments)},a.handleSeeked=function(){var e=this.props,t=e.actions,a=e.onSeeked;t.handleSeeked(this.getProperties()),a&&a.apply(void 0,arguments)},a.handleFullscreenChange=function(){},a.handleSuspend=function(){var e=this.props,t=e.actions,a=e.onSuspend;t.handleSuspend(this.getProperties()),a&&a.apply(void 0,arguments)},a.handleAbort=function(){var e=this.props,t=e.actions,a=e.onAbort;t.handleAbort(this.getProperties()),a&&a.apply(void 0,arguments)},a.handleEmptied=function(){var e=this.props,t=e.actions,a=e.onEmptied;t.handleEmptied(this.getProperties()),a&&a.apply(void 0,arguments)},a.handleStalled=function(){var e=this.props,t=e.actions,a=e.onStalled;t.handleStalled(this.getProperties()),a&&a.apply(void 0,arguments)},a.handleLoadedMetaData=function(){var e=this.props,t=e.actions,a=e.onLoadedMetadata,n=e.startTime;n&&0<n&&(this.video.currentTime=n),t.handleLoadedMetaData(this.getProperties()),a&&a.apply(void 0,arguments)},a.handleLoadedData=function(){var e=this.props,t=e.actions,a=e.onLoadedData;t.handleLoadedData(this.getProperties()),a&&a.apply(void 0,arguments)},a.handleTimeUpdate=function(){var e=this.props,t=e.actions,a=e.onTimeUpdate;t.handleTimeUpdate(this.getProperties()),a&&a.apply(void 0,arguments)},a.handleRateChange=function(){var e=this.props,t=e.actions,a=e.onRateChange;t.handleRateChange(this.getProperties()),a&&a.apply(void 0,arguments)},a.handleVolumeChange=function(){var e=this.props,t=e.actions,a=e.onVolumeChange;t.handleVolumeChange(this.getProperties()),a&&a.apply(void 0,arguments)},a.handleError=function(){var e=this.props,t=e.actions,a=e.onError;t.handleError(this.getProperties()),a&&a.apply(void 0,arguments)},a.handleResize=function(){var e=this.props,t=e.actions,a=e.onResize;t.handleResize(this.getProperties()),a&&a.apply(void 0,arguments)},a.handleKeypress=function(){},a.renderChildren=function(){var e=this,t=r({},this.props,{video:this.video});return this.video?O.Children.toArray(this.props.children).filter(C).map(function(a){var n;if("string"!=typeof a.type)n=t;else if("source"===a.type){n=r({},a.props);var o=n.onError;n.onError=function(){o&&o.apply(void 0,arguments),e.handleError.apply(e,arguments)}}return O.cloneElement(a,n)}):null},a.render=function(){var e=this,t=this.props,a=t.loop,n=t.poster,o=t.preload,r=t.src,l=t.autoPlay,d=t.playsInline,i=t.muted,s=t.crossOrigin,c=t.videoId;return O.createElement("video",{className:Xe("video-react-video",this.props.className),id:c,crossOrigin:s,ref:function(t){e.video=t},muted:i,preload:o,loop:a,playsInline:d,autoPlay:l,poster:n,src:r,onLoadStart:this.handleLoadStart,onWaiting:this.handleWaiting,onCanPlay:this.handleCanPlay,onCanPlayThrough:this.handleCanPlayThrough,onPlaying:this.handlePlaying,onEnded:this.handleEnded,onSeeking:this.handleSeeking,onSeeked:this.handleSeeked,onPlay:this.handlePlay,onPause:this.handlePause,onProgress:this.handleProgress,onDurationChange:this.handleDurationChange,onError:this.handleError,onSuspend:this.handleSuspend,onAbort:this.handleAbort,onEmptied:this.handleEmptied,onStalled:this.handleStalled,onLoadedMetadata:this.handleLoadedMetaData,onLoadedData:this.handleLoadedData,onTimeUpdate:this.handleTimeUpdate,onRateChange:this.handleRateChange,onVolumeChange:this.handleVolumeChange,tabIndex:"-1"},this.renderChildren())},o(t,[{key:"playbackRate",get:function(){return this.video.playbackRate},set:function(e){this.video.playbackRate=e}},{key:"muted",get:function(){return this.video.muted},set:function(e){this.video.muted=e}},{key:"volume",get:function(){return this.video.volume},set:function(e){1<e&&(e=1),0>e&&(e=0),this.video.volume=e}},{key:"videoWidth",get:function(){return this.video.videoWidth}},{key:"videoHeight",get:function(){return this.video.videoHeight}}]),t}(t.Component);ht.propTypes=ut,ht.displayName="Video";var mt={manager:$e.object,className:$e.string},vt=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.timer=null,t.manager.subscribeToOperationStateChange(n.handleStateChange.bind(i(n))),n.state={hidden:!0,operation:{}},n}l(t,e);var a=t.prototype;return a.handleStateChange=function(e,t){var a=this;e.count!==t.count&&"shortcut"===e.operation.source&&(this.timer&&(clearTimeout(this.timer),this.timer=null),this.setState({hidden:!1,count:e.count,operation:e.operation}),this.timer=setTimeout(function(){a.setState({hidden:!0}),a.timer=null},500))},a.render=function(){if("shortcut"!==this.state.operation.source)return null;var e=this.state.hidden?{display:"none"}:null;return O.createElement("div",{className:Xe({"video-react-bezel":!0,"video-react-bezel-animation":0==this.state.count%2,"video-react-bezel-animation-alt":1==this.state.count%2},this.props.className),style:e,role:"status","aria-label":this.state.operation.action},O.createElement("div",{className:Xe("video-react-bezel-icon","video-react-bezel-icon-"+this.state.operation.action)}))},t}(t.Component);vt.propTypes=mt,vt.displayName="Bezel";var yt={clickable:$e.bool,dblclickable:$e.bool,manager:$e.object,actions:$e.object,player:$e.object,shortcuts:$e.array},gt=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.defaultShortcuts=[{keyCode:32,handle:n.togglePlay},{keyCode:75,handle:n.togglePlay},{keyCode:70,handle:n.toggleFullscreen},{keyCode:37,handle:function(e,t){e.hasStarted&&t.replay(5,{action:"replay-5",source:"shortcut"})}},{keyCode:74,handle:function(e,t){e.hasStarted&&t.replay(10,{action:"replay-10",source:"shortcut"})}},{keyCode:39,handle:function(e,t){e.hasStarted&&t.forward(5,{action:"forward-5",source:"shortcut"})}},{keyCode:76,handle:function(e,t){e.hasStarted&&t.forward(10,{action:"forward-10",source:"shortcut"})}},{keyCode:36,handle:function(e,t){e.hasStarted&&t.seek(0)}},{keyCode:35,handle:function(e,t){e.hasStarted&&t.seek(e.duration)}},{keyCode:38,handle:function(e,t){var a=e.volume+.05;1<a&&(a=1),t.changeVolume(a,{action:"volume-up",source:"shortcut"})}},{keyCode:40,handle:function(e,t){var a=e.volume-.05;0>a&&(a=0);var n=0<a?"volume-down":"volume-off";t.changeVolume(a,{action:n,source:"shortcut"})}},{keyCode:190,shift:!0,handle:function(e,t){var a=e.playbackRate;1.5<=a?a=2:1.25<=a?a=1.5:1<=a?a=1.25:.5<=a?a=1:.25<=a?a=.5:0<=a&&(a=.25),t.changeRate(a,{action:"fast-forward",source:"shortcut"})}},{keyCode:188,shift:!0,handle:function(e,t){var a=e.playbackRate;.5>=a?a=.25:1>=a?a=.5:1.25>=a?a=1:1.5>=a?a=1.25:2>=a&&(a=1.5),t.changeRate(a,{action:"fast-rewind",source:"shortcut"})}}],n.shortcuts=[].concat(n.defaultShortcuts),n.mergeShortcuts=n.mergeShortcuts.bind(i(n)),n.handleKeyPress=n.handleKeyPress.bind(i(n)),n.handleClick=n.handleClick.bind(i(n)),n.handleDoubleClick=n.handleDoubleClick.bind(i(n)),n}l(t,e);var a=t.prototype;return a.componentDidMount=function(){this.mergeShortcuts(),document.addEventListener("keydown",this.handleKeyPress),document.addEventListener("click",this.handleClick),document.addEventListener("dblclick",this.handleDoubleClick)},a.componentDidUpdate=function(e){e.shortcuts!==this.props.shortcuts&&this.mergeShortcuts()},a.componentWillUnmount=function(){document.removeEventListener("keydown",this.handleKeyPress),document.removeEventListener("click",this.handleClick),document.removeEventListener("dblclick",this.handleDoubleClick)},a.mergeShortcuts=function(){var e=function(e){var t=e.keyCode,a=void 0===t?0:t,n=e.ctrl,o=e.shift,r=e.alt;return a+":"+(void 0!==n&&n)+":"+(void 0!==o&&o)+":"+(void 0!==r&&r)},t=this.defaultShortcuts.reduce(function(t,a){var n;return Object.assign(t,(n={},n[e(a)]=a,n))},{}),a=(this.props.shortcuts||[]).reduce(function(t,a){var n=a.keyCode,o=a.handle;if(n&&"function"==typeof o){var r;return Object.assign(t,(r={},r[e(a)]=a,r))}return t},t),n=function(e){var t=0;return["ctrl","shift","alt"].forEach(function(a){e[a]&&t++}),t};this.shortcuts=Object.keys(a).map(function(e){return a[e]}).sort(function(e,t){return n(t)-n(e)})},a.togglePlay=function(e,t){e.paused?t.play({action:"play",source:"shortcut"}):t.pause({action:"pause",source:"shortcut"})},a.toggleFullscreen=function(e,t){t.toggleFullscreen(e)},a.handleKeyPress=function(t){var e=this.props,a=e.player,n=e.actions;if(a.isActive&&!(document.activeElement&&(A(document.activeElement,"video-react-control")||A(document.activeElement,"video-react-menu-button-active")||A(document.activeElement,"video-react-big-play-button")))){var o=t.keyCode||t.which,r=t.ctrlKey||t.metaKey,l=t.shiftKey,d=t.altKey,i=this.shortcuts.filter(function(e){return!!(e.keyCode&&0==e.keyCode-o)&&(void 0===e.ctrl||e.ctrl===r)&&(void 0===e.shift||e.shift===l)&&(void 0===e.alt||e.alt===d)})[0];i&&(i.handle(a,n),t.preventDefault())}},a.canBeClicked=function(t,a){return!!(t.isActive&&"VIDEO"===a.target.nodeName&&4===t.readyState)},a.handleClick=function(t){var e=this.props,a=e.player,n=e.actions,o=e.clickable;this.canBeClicked(a,t)&&o&&this.togglePlay(a,n)},a.handleDoubleClick=function(t){var e=this.props,a=e.player,n=e.actions,o=e.dblclickable;this.canBeClicked(a,t)&&o&&this.toggleFullscreen(a,n)},a.render=function(){return null},t}(t.Component);gt.propTypes=yt,gt.defaultProps={clickable:!0,dblclickable:!0},gt.displayName="Shortcut";var Et={className:$e.string,onMouseDown:$e.func,onMouseMove:$e.func,stepForward:$e.func,stepBack:$e.func,sliderActive:$e.func,sliderInactive:$e.func,onMouseUp:$e.func,onFocus:$e.func,onBlur:$e.func,onClick:$e.func,getPercent:$e.func,vertical:$e.bool,children:$e.node,label:$e.string,valuenow:$e.string,valuetext:$e.string},bt=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.handleMouseDown=n.handleMouseDown.bind(i(n)),n.handleMouseMove=n.handleMouseMove.bind(i(n)),n.handleMouseUp=n.handleMouseUp.bind(i(n)),n.handleFocus=n.handleFocus.bind(i(n)),n.handleBlur=n.handleBlur.bind(i(n)),n.handleClick=n.handleClick.bind(i(n)),n.handleKeyPress=n.handleKeyPress.bind(i(n)),n.stepForward=n.stepForward.bind(i(n)),n.stepBack=n.stepBack.bind(i(n)),n.calculateDistance=n.calculateDistance.bind(i(n)),n.getProgress=n.getProgress.bind(i(n)),n.renderChildren=n.renderChildren.bind(i(n)),n.state={active:!1},n}l(t,e);var a=t.prototype;return a.componentWillUnmount=function(){document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0),document.removeEventListener("touchmove",this.handleMouseMove,!0),document.removeEventListener("touchend",this.handleMouseUp,!0),document.removeEventListener("keydown",this.handleKeyPress,!0)},a.getProgress=function(){var e=this.props.getPercent;if(!e)return 0;var t=e();return("number"!=typeof t||0>t||t===1/0)&&(t=0),t},a.handleMouseDown=function(e){var t=this.props.onMouseDown;document.addEventListener("mousemove",this.handleMouseMove,!0),document.addEventListener("mouseup",this.handleMouseUp,!0),document.addEventListener("touchmove",this.handleMouseMove,!0),document.addEventListener("touchend",this.handleMouseUp,!0),this.setState({active:!0}),this.props.sliderActive&&this.props.sliderActive(e),this.handleMouseMove(e),t&&t(e)},a.handleMouseMove=function(e){var t=this.props.onMouseMove;t&&t(e)},a.handleMouseUp=function(e){e.preventDefault();var t=this.props.onMouseUp;document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0),document.removeEventListener("touchmove",this.handleMouseMove,!0),document.removeEventListener("touchend",this.handleMouseUp,!0),this.setState({active:!1}),this.props.sliderInactive&&this.props.sliderInactive(e),t&&t(e)},a.handleFocus=function(t){document.addEventListener("keydown",this.handleKeyPress,!0),this.props.onFocus&&this.props.onFocus(t)},a.handleBlur=function(t){document.removeEventListener("keydown",this.handleKeyPress,!0),this.props.onBlur&&this.props.onBlur(t)},a.handleClick=function(e){e.preventDefault(),this.props.onClick&&this.props.onClick(e)},a.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),e.stopPropagation(),this.stepBack()):(38===e.which||39===e.which)&&(e.preventDefault(),e.stopPropagation(),this.stepForward())},a.stepForward=function(){this.props.stepForward&&this.props.stepForward()},a.stepBack=function(){this.props.stepBack&&this.props.stepBack()},a.calculateDistance=function(e){var t=this.slider,a=S(t,e);return this.props.vertical?a.y:a.x},a.renderChildren=function(){var e=this.getProgress(),t=(100*e).toFixed(2)+"%";return O.Children.map(this.props.children,function(a){return O.cloneElement(a,{progress:e,percentage:t})})},a.render=function(){var e=this,t=this.props,a=t.vertical,n=t.label,o=t.valuenow,r=t.valuetext;return O.createElement("div",{className:Xe(this.props.className,{"video-react-slider-vertical":a,"video-react-slider-horizontal":!a,"video-react-sliding":this.state.active},"video-react-slider"),ref:function(t){e.slider=t},tabIndex:"0",role:"slider",onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,"aria-label":n||"","aria-valuenow":o||"","aria-valuetext":r||"","aria-valuemin":0,"aria-valuemax":100},this.renderChildren())},t}(t.Component);bt.propTypes=Et,bt.displayName="Slider";var Ct={currentTime:$e.number,duration:$e.number,percentage:$e.string,className:$e.string};M.propTypes=Ct,M.displayName="PlayProgressBar";var ft={duration:$e.number,buffered:$e.object,className:$e.string};D.propTypes=ft,D.displayName="LoadProgressBar",w.propTypes={duration:$e.number,mouseTime:$e.object,className:$e.string},w.displayName="MouseTimeDisplay";var kt={player:$e.object,mouseTime:$e.object,actions:$e.object,className:$e.string},Tt=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.getPercent=n.getPercent.bind(i(n)),n.getNewTime=n.getNewTime.bind(i(n)),n.stepForward=n.stepForward.bind(i(n)),n.stepBack=n.stepBack.bind(i(n)),n.handleMouseDown=n.handleMouseDown.bind(i(n)),n.handleMouseMove=n.handleMouseMove.bind(i(n)),n.handleMouseUp=n.handleMouseUp.bind(i(n)),n}l(t,e);var a=t.prototype;return a.componentDidMount=function(){},a.componentDidUpdate=function(){},a.getPercent=function(){var e=this.props.player,t=e.currentTime,a=e.seekingTime,n=e.duration,o=(a||t)/n;return 1<=o?1:o},a.getNewTime=function(e){var t=this.props.player.duration,a=this.slider.calculateDistance(e),n=a*t;return n===t?n-.1:n},a.handleMouseDown=function(){},a.handleMouseUp=function(e){var t=this.props.actions,a=this.getNewTime(e);t.seek(a),t.handleEndSeeking(a)},a.handleMouseMove=function(e){var t=this.props.actions,a=this.getNewTime(e);t.handleSeekingTime(a)},a.stepForward=function(){var e=this.props.actions;e.forward(5)},a.stepBack=function(){var e=this.props.actions;e.replay(5)},a.render=function(){var e=this,t=this.props,a=t.player,n=a.currentTime,o=a.seekingTime,r=a.duration,l=a.buffered,d=t.mouseTime,i=o||n;return O.createElement(bt,{ref:function(t){e.slider=t},label:"video progress bar",className:Xe("video-react-progress-holder",this.props.className),valuenow:(100*this.getPercent()).toFixed(2),valuetext:b(i,r),onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,getPercent:this.getPercent,stepForward:this.stepForward,stepBack:this.stepBack},O.createElement(D,{buffered:l,currentTime:i,duration:r}),O.createElement(w,{duration:r,mouseTime:d}),O.createElement(M,{currentTime:i,duration:r}))},t}(t.Component);Tt.propTypes=kt,Tt.displayName="SeekBar";var Pt={player:$e.object,className:$e.string},St=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.state={mouseTime:{time:null,position:0}},n.handleMouseMoveThrottle=n.handleMouseMove.bind(i(n)),n}l(t,e);var a=t.prototype;return a.handleMouseMove=function(e){if(e.pageX){var t=this.props.player.duration,a=this.seekBar,n=S(a,e).x*t,o=e.pageX-P(a).left;this.setState({mouseTime:{time:n,position:o}})}},a.render=function(){var e=this,t=this.props.className;return O.createElement("div",{onMouseMove:this.handleMouseMoveThrottle,className:Xe("video-react-progress-control video-react-control",t)},O.createElement(Tt,r({mouseTime:this.state.mouseTime,ref:function(t){e.seekBar=t}},this.props)))},t}(t.Component);St.propTypes=Pt,St.displayName="ProgressControl";var Nt={actions:$e.object,player:$e.object,className:$e.string},At=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.handleClick=n.handleClick.bind(i(n)),n}l(t,e);var a=t.prototype;return a.handleClick=function(){var e=this.props,t=e.actions,a=e.player;a.paused?t.play():t.pause()},a.render=function(){var e=this,t=this.props,a=t.player,n=t.className,o=a.paused?"Play":"Pause";return O.createElement("button",{ref:function(t){e.button=t},className:Xe(n,{"video-react-play-control":!0,"video-react-control":!0,"video-react-button":!0,"video-react-paused":a.paused,"video-react-playing":!a.paused}),type:"button",tabIndex:"0",onClick:this.handleClick},O.createElement("span",{className:"video-react-control-text"},o))},t}(t.Component);At.propTypes=Nt,At.displayName="PlayToggle";var Mt={actions:$e.object,className:$e.string,seconds:$e.oneOf([5,10,30])},Dt={seconds:10},wt=function(e){var a=function(t){function a(e,a){var n;return n=t.call(this,e,a)||this,n.handleClick=n.handleClick.bind(i(n)),n}l(a,t);var n=a.prototype;return n.handleClick=function(){var t=this.props,a=t.actions,n=t.seconds;"forward"===e?a.forward(n):a.replay(n)},n.render=function(){var t=this,a=this.props,n=a.seconds,o=a.className,r=["video-react-control","video-react-button","video-react-icon"];return r.push("video-react-icon-"+e+"-"+n,"video-react-"+e+"-control"),o&&r.push(o),O.createElement("button",{ref:function(e){t.button=e},className:r.join(" "),type:"button",onClick:this.handleClick},O.createElement("span",{className:"video-react-control-text"},e+" "+n+" seconds"))},a}(t.Component);return a.propTypes=Mt,a.defaultProps=Dt,a},Rt=wt("forward");Rt.displayName="ForwardControl";var It=wt("replay");It.displayName="ReplayControl";var xt={actions:$e.object,player:$e.object,className:$e.string},Ft=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.handleClick=n.handleClick.bind(i(n)),n}l(t,e);var a=t.prototype;return a.handleClick=function(){var e=this.props,t=e.player,a=e.actions;a.toggleFullscreen(t)},a.render=function(){var e=this,t=this.props,a=t.player,n=t.className;return O.createElement("button",{className:Xe(n,{"video-react-icon-fullscreen-exit":a.isFullscreen,"video-react-icon-fullscreen":!a.isFullscreen},"video-react-fullscreen-control video-react-control video-react-button video-react-icon"),ref:function(t){e.button=t},type:"button",tabIndex:"0",onClick:this.handleClick},O.createElement("span",{className:"video-react-control-text"},"Non-Fullscreen"))},t}(t.Component);Ft.propTypes=xt,Ft.displayName="FullscreenToggle";var Lt={player:$e.object,className:$e.string};R.propTypes=Lt,R.displayName="RemainingTimeDisplay";var _t={player:$e.object,className:$e.string};I.propTypes=_t,I.displayName="CurrentTimeDisplay";var Ot={player:$e.object,className:$e.string};x.propTypes=Ot,x.displayName="DurationDisplay";var Bt={separator:$e.string,className:$e.string};F.propTypes=Bt,F.displayName="TimeDivider";var Ut={tagName:$e.string,onClick:$e.func.isRequired,onFocus:$e.func,onBlur:$e.func,className:$e.string},Kt=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.handleClick=n.handleClick.bind(i(n)),n.handleFocus=n.handleFocus.bind(i(n)),n.handleBlur=n.handleBlur.bind(i(n)),n.handleKeypress=n.handleKeypress.bind(i(n)),n}l(t,e);var a=t.prototype;return a.handleKeypress=function(e){(32===e.which||13===e.which)&&(e.preventDefault(),this.handleClick(e))},a.handleClick=function(e){var t=this.props.onClick;t(e)},a.handleFocus=function(t){document.addEventListener("keydown",this.handleKeypress),this.props.onFocus&&this.props.onFocus(t)},a.handleBlur=function(t){document.removeEventListener("keydown",this.handleKeypress),this.props.onBlur&&this.props.onBlur(t)},a.render=function(){var e=this.props.tagName,t=r({},this.props);return delete t.tagName,delete t.className,O.createElement(e,r({className:Xe(this.props.className),role:"button",tabIndex:"0",onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur},t))},t}(t.Component);Kt.propTypes=Ut,Kt.defaultProps={tagName:"div"},Kt.displayName="ClickableComponent";var jt={player:$e.object,children:$e.any},Gt=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.handleClick=n.handleClick.bind(i(n)),n}l(t,e);var a=t.prototype;return a.handleClick=function(e){e.preventDefault()},a.render=function(){var e=this.props.children;return O.createElement("div",{className:"video-react-menu",onClick:this.handleClick},O.createElement("div",{className:"video-react-menu-content"},e))},t}(t.Component);Gt.propTypes=jt,Gt.displayName="Popup";var Ht={inline:$e.bool,onClick:$e.func.isRequired,onFocus:$e.func,onBlur:$e.func,className:$e.string};L.propTypes=Ht,L.defaultProps={inline:!0},L.displayName="PopupButton";var Vt={percentage:$e.string,vertical:$e.bool,className:$e.string};_.propTypes=Vt,_.defaultProps={percentage:"100%",vertical:!1},_.displayName="VolumeLevel";var zt={actions:$e.object,player:$e.object,className:$e.string,onFocus:$e.func,onBlur:$e.func},Wt=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.state={percentage:"0%"},n.handleMouseMove=n.handleMouseMove.bind(i(n)),n.handlePercentageChange=n.handlePercentageChange.bind(i(n)),n.checkMuted=n.checkMuted.bind(i(n)),n.getPercent=n.getPercent.bind(i(n)),n.stepForward=n.stepForward.bind(i(n)),n.stepBack=n.stepBack.bind(i(n)),n.handleFocus=n.handleFocus.bind(i(n)),n.handleBlur=n.handleBlur.bind(i(n)),n.handleClick=n.handleClick.bind(i(n)),n}l(t,e);var a=t.prototype;return a.componentDidMount=function(){},a.getPercent=function(){var e=this.props.player;return e.muted?0:e.volume},a.checkMuted=function(){var e=this.props,t=e.player,a=e.actions;t.muted&&a.mute(!1)},a.handleMouseMove=function(e){var t=this.props.actions;this.checkMuted();var a=this.slider.calculateDistance(e);t.changeVolume(a)},a.stepForward=function(){var e=this.props,t=e.player,a=e.actions;this.checkMuted(),a.changeVolume(t.volume+.1)},a.stepBack=function(){var e=this.props,t=e.player,a=e.actions;this.checkMuted(),a.changeVolume(t.volume-.1)},a.handleFocus=function(t){this.props.onFocus&&this.props.onFocus(t)},a.handleBlur=function(t){this.props.onBlur&&this.props.onBlur(t)},a.handlePercentageChange=function(e){e!==this.state.percentage&&this.setState({percentage:e})},a.handleClick=function(e){e.stopPropagation()},a.render=function(){var e=this,t=this.props,a=t.player,n=t.className,o=(100*a.volume).toFixed(2);return O.createElement(bt,r({ref:function(t){e.slider=t},label:"volume level",valuenow:o,valuetext:o+"%",onMouseMove:this.handleMouseMove,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,sliderActive:this.handleFocus,sliderInactive:this.handleBlur,getPercent:this.getPercent,onPercentageChange:this.handlePercentageChange,stepForward:this.stepForward,stepBack:this.stepBack},this.props,{className:Xe(n,"video-react-volume-bar video-react-slider-bar")}),O.createElement(_,this.props))},t}(t.Component);Wt.propTypes=zt,Wt.displayName="VolumeBar";var Yt={player:$e.object,actions:$e.object,vertical:$e.bool,className:$e.string,alwaysShowVolume:$e.bool},qt=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.state={active:!1},n.handleClick=n.handleClick.bind(i(n)),n.handleFocus=n.handleFocus.bind(i(n)),n.handleBlur=n.handleBlur.bind(i(n)),n}l(t,e);var a=t.prototype;return a.handleClick=function(){var e=this.props,t=e.player,a=e.actions;a.mute(!t.muted)},a.handleFocus=function(){this.setState({active:!0})},a.handleBlur=function(){this.setState({active:!1})},a.render=function(){var e=this.props,t=e.vertical,a=e.player,n=e.className,o=this.volumeLevel;return O.createElement(L,{className:Xe(n,{"video-react-volume-menu-button-vertical":t,"video-react-volume-menu-button-horizontal":!t,"video-react-vol-muted":a.muted,"video-react-vol-0":0===o&&!a.muted,"video-react-vol-1":1===o,"video-react-vol-2":2===o,"video-react-vol-3":3===o,"video-react-slider-active":this.props.alwaysShowVolume||this.state.active,"video-react-lock-showing":this.props.alwaysShowVolume||this.state.active},"video-react-volume-menu-button"),onClick:this.handleClick,inline:!t},O.createElement(Wt,r({onFocus:this.handleFocus,onBlur:this.handleBlur},this.props)))},o(t,[{key:"volumeLevel",get:function(){var e=this.props.player,t=e.volume,a=e.muted,n=3;return 0===t||a?n=0:.33>t?n=1:.67>t&&(n=2),n}}]),t}(t.Component);qt.propTypes=Yt,qt.defaultProps={vertical:!1},qt.displayName="VolumeMenuButton";var $t={children:$e.any},Xt=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.handleClick=n.handleClick.bind(i(n)),n}l(t,e);var a=t.prototype;return a.handleClick=function(e){e.preventDefault()},a.render=function(){return O.createElement("div",{className:"video-react-menu video-react-lock-showing",role:"presentation",onClick:this.handleClick},O.createElement("ul",{className:"video-react-menu-content"},this.props.children))},t}(t.Component);Xt.propTypes=$t,Xt.displayName="Menu";var Zt={item:$e.object,index:$e.number,activateIndex:$e.number,onSelectItem:$e.func},Jt=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.handleClick=n.handleClick.bind(i(n)),n}l(t,e);var a=t.prototype;return a.handleClick=function(){var e=this.props,t=e.index,a=e.onSelectItem;a(t)},a.render=function(){var e=this.props,t=e.item,a=e.index,n=e.activateIndex;return O.createElement("li",{className:Xe({"video-react-menu-item":!0,"video-react-selected":a===n}),role:"menuitem",onClick:this.handleClick},t.label,O.createElement("span",{className:"video-react-control-text"}))},t}(t.Component);Jt.propTypes=Zt,Jt.displayName="MenuItem";var Qt={inline:$e.bool,items:$e.array,className:$e.string,onSelectItem:$e.func,children:$e.any,selectedIndex:$e.number},ea=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.state={active:!1,activateIndex:t.selectedIndex||0},n.commitSelection=n.commitSelection.bind(i(n)),n.activateMenuItem=n.activateMenuItem.bind(i(n)),n.handleClick=n.handleClick.bind(i(n)),n.renderMenu=n.renderMenu.bind(i(n)),n.handleFocus=n.handleFocus.bind(i(n)),n.handleBlur=n.handleBlur.bind(i(n)),n.handleUpArrow=n.handleUpArrow.bind(i(n)),n.handleDownArrow=n.handleDownArrow.bind(i(n)),n.handleEscape=n.handleEscape.bind(i(n)),n.handleReturn=n.handleReturn.bind(i(n)),n.handleTab=n.handleTab.bind(i(n)),n.handleKeyPress=n.handleKeyPress.bind(i(n)),n.handleSelectItem=n.handleSelectItem.bind(i(n)),n.handleIndexChange=n.handleIndexChange.bind(i(n)),n}l(t,e);var a=t.prototype;return a.componentDidUpdate=function(e){e.selectedIndex!==this.props.selectedIndex&&this.activateMenuItem(this.props.selectedIndex)},a.commitSelection=function(e){this.setState({activateIndex:e}),this.handleIndexChange(e)},a.activateMenuItem=function(e){this.setState({activateIndex:e}),this.handleIndexChange(e)},a.handleIndexChange=function(e){var t=this.props.onSelectItem;t(e)},a.handleClick=function(){this.setState(function(e){return{active:!e.active}})},a.handleFocus=function(){document.addEventListener("keydown",this.handleKeyPress)},a.handleBlur=function(){this.setState({active:!1}),document.removeEventListener("keydown",this.handleKeyPress)},a.handleUpArrow=function(t){var e=this.props.items;if(this.state.active){t.preventDefault();var a=this.state.activateIndex-1;0>a&&(a=e.length?e.length-1:0),this.activateMenuItem(a)}},a.handleDownArrow=function(t){var e=this.props.items;if(this.state.active){t.preventDefault();var a=this.state.activateIndex+1;a>=e.length&&(a=0),this.activateMenuItem(a)}},a.handleTab=function(t){this.state.active&&(t.preventDefault(),this.commitSelection(this.state.activateIndex))},a.handleReturn=function(t){t.preventDefault(),this.state.active?this.commitSelection(this.state.activateIndex):this.setState({active:!0})},a.handleEscape=function(){this.setState({active:!1,activateIndex:0})},a.handleKeyPress=function(e){27===e.which?this.handleEscape(e):9===e.which?this.handleTab(e):13===e.which?this.handleReturn(e):38===e.which?this.handleUpArrow(e):40===e.which&&this.handleDownArrow(e)},a.handleSelectItem=function(e){this.commitSelection(e)},a.renderMenu=function(){var e=this;if(!this.state.active)return null;var t=this.props.items;return O.createElement(Xt,null,t.map(function(t,a){return O.createElement(Jt,{item:t,index:a,onSelectItem:e.handleSelectItem,activateIndex:e.state.activateIndex,key:"item-"+a++})}))},a.render=function(){var e=this,t=this.props,a=t.inline,n=t.className;return O.createElement(Kt,{className:Xe(n,{"video-react-menu-button-inline":!!a,"video-react-menu-button-popup":!a,"video-react-menu-button-active":this.state.active},"video-react-control video-react-button video-react-menu-button"),role:"button",tabIndex:"0",ref:function(t){e.menuButton=t},onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur},this.props.children,this.renderMenu())},t}(t.Component);ea.propTypes=Qt,ea.displayName="MenuButton";var ta={player:$e.object,actions:$e.object,rates:$e.array,className:$e.string},aa=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.handleSelectItem=n.handleSelectItem.bind(i(n)),n}l(t,e);var a=t.prototype;return a.handleSelectItem=function(e){var t=this.props,a=t.rates,n=t.actions;0<=e&&e<a.length&&n.changeRate(a[e])},a.render=function(){var e=this.props,t=e.rates,a=e.player,n=t.map(function(e){return{label:e+"x",value:e}}),o=t.indexOf(a.playbackRate)||0;return O.createElement(ea,{className:Xe("video-react-playback-rate",this.props.className),onSelectItem:this.handleSelectItem,items:n,selectedIndex:o},O.createElement("span",{className:"video-react-control-text"},"Playback Rate"),O.createElement("div",{className:"video-react-playback-rate-value"},a.playbackRate.toFixed(2)+"x"))},t}(t.Component);aa.propTypes=ta,aa.defaultProps={rates:[2,1.5,1.25,1,.5,.25]},aa.displayName="PlaybackRateMenuButton";var na={children:$e.any,autoHide:$e.bool,autoHideTime:$e.number,disableDefaultControls:$e.bool,disableCompletely:$e.bool,className:$e.string},oa=function(e){function t(t){var a;return a=e.call(this,t)||this,a.getDefaultChildren=a.getDefaultChildren.bind(i(a)),a.getFullChildren=a.getFullChildren.bind(i(a)),a}l(t,e);var a=t.prototype;return a.getDefaultChildren=function(){return[O.createElement(At,{key:"play-toggle",order:1}),O.createElement(qt,{key:"volume-menu-button",order:4}),O.createElement(I,{key:"current-time-display",order:5.1}),O.createElement(F,{key:"time-divider",order:5.2}),O.createElement(x,{key:"duration-display",order:5.3}),O.createElement(St,{key:"progress-control",order:6}),O.createElement(Ft,{key:"fullscreen-toggle",order:8})]},a.getFullChildren=function(){return[O.createElement(At,{key:"play-toggle",order:1}),O.createElement(It,{key:"replay-control",order:2}),O.createElement(Rt,{key:"forward-control",order:3}),O.createElement(qt,{key:"volume-menu-button",order:4}),O.createElement(I,{key:"current-time-display",order:5}),O.createElement(F,{key:"time-divider",order:6}),O.createElement(x,{key:"duration-display",order:7}),O.createElement(St,{key:"progress-control",order:8}),O.createElement(R,{key:"remaining-time-display",order:9}),O.createElement(aa,{rates:[1,1.25,1.5,2],key:"playback-rate",order:10}),O.createElement(Ft,{key:"fullscreen-toggle",order:11})]},a.getChildren=function(){var e=O.Children.toArray(this.props.children),t=this.props.disableDefaultControls?[]:this.getDefaultChildren(),a=this.props,n=a.className,o=d(a,["className"]);return f(t,e,o)},a.render=function(){var e=this.props,t=e.autoHide,a=e.className,n=e.disableCompletely,o=this.getChildren();return n?null:O.createElement("div",{className:Xe("video-react-control-bar",{"video-react-control-bar-auto-hide":t},a)},o)},t}(t.Component);oa.propTypes=na,oa.defaultProps={autoHide:!0,disableCompletely:!1},oa.displayName="ControlBar";var ra="undefined"!=typeof window&&window.navigator?window.navigator.userAgent:"",la=/iPad/i.test(ra),da=/iPhone/i.test(ra)&&!la,ia=/iPod/i.test(ra),sa={children:$e.any,width:$e.oneOfType([$e.string,$e.number]),height:$e.oneOfType([$e.string,$e.number]),fluid:$e.bool,muted:$e.bool,playsInline:$e.bool,aspectRatio:$e.string,className:$e.string,videoId:$e.string,startTime:$e.number,loop:$e.bool,autoPlay:$e.bool,src:$e.string,poster:$e.string,preload:$e.oneOf(["auto","metadata","none"]),onLoadStart:$e.func,onWaiting:$e.func,onCanPlay:$e.func,onCanPlayThrough:$e.func,onPlaying:$e.func,onEnded:$e.func,onSeeking:$e.func,onSeeked:$e.func,onPlay:$e.func,onPause:$e.func,onProgress:$e.func,onDurationChange:$e.func,onError:$e.func,onSuspend:$e.func,onAbort:$e.func,onEmptied:$e.func,onStalled:$e.func,onLoadedMetadata:$e.func,onLoadedData:$e.func,onTimeUpdate:$e.func,onRateChange:$e.func,onVolumeChange:$e.func,store:$e.object},ca=function(e){function t(t){var a;return a=e.call(this,t)||this,a.controlsHideTimer=null,a.video=null,a.manager=new nt(t.store),a.actions=a.manager.getActions(),a.manager.subscribeToPlayerStateChange(a.handleStateChange.bind(i(a))),a.getStyle=a.getStyle.bind(i(a)),a.handleResize=a.handleResize.bind(i(a)),a.getChildren=a.getChildren.bind(i(a)),a.handleMouseMove=T(a.handleMouseMove.bind(i(a)),250),a.handleMouseDown=a.handleMouseDown.bind(i(a)),a.startControlsTimer=a.startControlsTimer.bind(i(a)),a.handleFullScreenChange=a.handleFullScreenChange.bind(i(a)),a.handleKeyDown=a.handleKeyDown.bind(i(a)),a.handleFocus=a.handleFocus.bind(i(a)),a.handleBlur=a.handleBlur.bind(i(a)),a}l(t,e);var a=t.prototype;return a.componentDidMount=function(){this.handleResize(),window.addEventListener("resize",this.handleResize),Qe.addEventListener(this.handleFullScreenChange)},a.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize),Qe.removeEventListener(this.handleFullScreenChange),this.controlsHideTimer&&window.clearTimeout(this.controlsHideTimer)},a.getDefaultChildren=function(e){var t=this;return[O.createElement(ht,{ref:function(e){t.video=e,t.manager.video=t.video},key:"video",order:0},e),O.createElement(E,{key:"poster-image",order:1}),O.createElement(g,{key:"loading-spinner",order:2}),O.createElement(vt,{key:"bezel",order:3}),O.createElement(rt,{key:"big-play-button",order:4}),O.createElement(oa,{key:"control-bar",order:5}),O.createElement(gt,{key:"shortcut",order:99})]},a.getChildren=function(e){var t=e.className,a=e.children,n=d(e,["className","children"]),o=O.Children.toArray(this.props.children).filter(function(t){return!C(t)}),r=this.getDefaultChildren(a);return f(r,o,n)},a.setWidthOrHeight=function(e,t,a){var n,o;"string"==typeof a?"auto"===a?o="auto":a.match(/\d+%/)&&(o=a):"number"==typeof a&&(o=a+"px"),Object.assign(e,(n={},n[t]=o,n))},a.getStyle=function(){var e,t,a,n=this.props,o=n.fluid,r=n.aspectRatio,l=n.height,d=n.width,i=this.manager.getState(),s=i.player,c={};a=void 0!==r&&"auto"!==r?r:s.videoWidth?s.videoWidth+":"+s.videoHeight:"16:9";var p=a.split(":"),u=p[1]/p[0];return e=void 0===d?void 0===l?s.videoWidth||400:l/u:d,t=void 0===l?e*u:l,o?c.paddingTop=100*u+"%":(this.setWidthOrHeight(c,"width",e),this.setWidthOrHeight(c,"height",t)),c},a.getState=function(){return this.manager.getState()},a.play=function(){this.video.play()},a.pause=function(){this.video.pause()},a.load=function(){this.video.load()},a.addTextTrack=function(){var e;(e=this.video).addTextTrack.apply(e,arguments)},a.canPlayType=function(){var e;(e=this.video).canPlayType.apply(e,arguments)},a.seek=function(e){this.video.seek(e)},a.forward=function(e){this.video.forward(e)},a.replay=function(e){this.video.replay(e)},a.toggleFullscreen=function(){this.video.toggleFullscreen()},a.subscribeToStateChange=function(e){return this.manager.subscribeToPlayerStateChange(e)},a.handleResize=function(){},a.handleFullScreenChange=function(e){e.target===this.manager.rootElement&&this.actions.handleFullscreenChange(Qe.isFullscreen)},a.handleMouseDown=function(){this.startControlsTimer()},a.handleMouseMove=function(){this.startControlsTimer()},a.handleKeyDown=function(){this.startControlsTimer()},a.startControlsTimer=function(){var e=this,t=3e3;O.Children.forEach(this.props.children,function(e){if(O.isValidElement(e)&&e.type===oa){var a=e.props.autoHideTime;"number"==typeof a&&(t=a)}}),this.actions.userActivate(!0),clearTimeout(this.controlsHideTimer),this.controlsHideTimer=setTimeout(function(){e.actions.userActivate(!1)},t)},a.handleStateChange=function(e,t){e.isFullscreen!==t.isFullscreen&&(this.handleResize(),N(this.manager.rootElement)),this.forceUpdate()},a.handleFocus=function(){this.actions.activate(!0)},a.handleBlur=function(){this.actions.activate(!1)},a.render=function(){var e=this,t=this.props.fluid,a=this.manager.getState(),n=a.player,o=n.paused,l=n.hasStarted,d=n.waiting,i=n.seeking,s=n.isFullscreen,c=n.userActivity,p=r({},this.props,{player:n,actions:this.actions,manager:this.manager,store:this.manager.store,video:this.video?this.video.video:null}),u=this.getChildren(p);return O.createElement("div",{className:Xe({"video-react-controls-enabled":!0,"video-react-has-started":l,"video-react-paused":o,"video-react-playing":!o,"video-react-waiting":d,"video-react-seeking":i,"video-react-fluid":t,"video-react-fullscreen":s,"video-react-user-inactive":!c,"video-react-user-active":c,"video-react-workinghover":!(da||la||ia)},"video-react",this.props.className),style:this.getStyle(),ref:function(t){e.manager.rootElement=t},role:"region",onTouchStart:this.handleMouseDown,onMouseDown:this.handleMouseDown,onTouchMove:this.handleMouseMove,onMouseMove:this.handleMouseMove,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:"-1"},u)},o(t,[{key:"playbackRate",get:function(){return this.video.playbackRate},set:function(e){this.video.playbackRate=e}},{key:"muted",get:function(){return this.video.muted},set:function(e){this.video.muted=e}},{key:"volume",get:function(){return this.video.volume},set:function(e){this.video.volume=e}},{key:"videoWidth",get:function(){return this.video.videoWidth}},{key:"videoHeight",get:function(){return this.video.videoHeight}}]),t}(t.Component);ca.contextTypes={store:$e.object},ca.propTypes=sa,ca.defaultProps={fluid:!0,muted:!1,playsInline:!1,preload:"auto",aspectRatio:"auto"},ca.displayName="Player";var pa=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,k("PlaybackRate","PlaybackRateMenuButton"),n}l(t,e);var a=t.prototype;return a.render=function(){return O.createElement(aa,this.props)},t}(t.Component);pa.displayName="PlaybackRate";var ua={player:$e.object,actions:$e.object,className:$e.string,offMenuText:$e.string,showOffMenu:$e.bool,kinds:$e.array},ha=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.getTextTrackItems=n.getTextTrackItems.bind(i(n)),n.updateState=n.updateState.bind(i(n)),n.handleSelectItem=n.handleSelectItem.bind(i(n)),n.state=n.getTextTrackItems(),n}l(t,e);var a=t.prototype;return a.componentDidUpdate=function(){this.updateState()},a.getTextTrackItems=function(){var e=this.props,t=e.kinds,a=e.player,n=e.offMenuText,o=e.showOffMenu,r=a.textTracks,l=a.activeTextTrack,d={items:[],selectedIndex:0},i=Array.from(r||[]);return 0===i.length?d:(o&&d.items.push({label:n||"Off",value:null}),i.forEach(function(e){t.length&&!t.includes(e.kind)||d.items.push({label:e.label,value:e.language})}),d.selectedIndex=d.items.findIndex(function(e){return l&&l.language===e.value}),-1===d.selectedIndex&&(d.selectedIndex=0),d)},a.updateState=function(){var e=this.getTextTrackItems();e.selectedIndex===this.state.selectedIndex&&this.textTrackItemsAreEqual(e.items,this.state.items)||this.setState(e)},a.textTrackItemsAreEqual=function(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(!t[a]||e[a].label!==t[a].label||e[a].value!==t[a].value)return!1;return!0},a.handleSelectItem=function(e){var t=this.props,a=t.player,n=t.actions,o=t.showOffMenu,r=a.textTracks;Array.from(r).forEach(function(t,a){e===(o?a+1:a)?(t.mode="showing",n.activateTextTrack(t)):t.mode="hidden"})},a.render=function(){var e=this.state,t=e.items,a=e.selectedIndex;return O.createElement(ea,{className:Xe("video-react-closed-caption",this.props.className),onSelectItem:this.handleSelectItem,items:t,selectedIndex:a},O.createElement("span",{className:"video-react-control-text"},"Closed Caption"))},t}(t.Component);ha.propTypes=ua,ha.defaultProps={offMenuText:"Off",showOffMenu:!0,kinds:["captions","subtitles"]},ha.displayName="ClosedCaptionButton",e.Bezel=vt,e.BigPlayButton=rt,e.ClosedCaptionButton=ha,e.ControlBar=oa,e.CurrentTimeDisplay=I,e.DurationDisplay=x,e.ForwardControl=Rt,e.FullscreenToggle=Ft,e.LoadProgressBar=D,e.LoadingSpinner=g,e.MenuButton=ea,e.MouseTimeDisplay=w,e.PlayProgressBar=M,e.PlayToggle=At,e.PlaybackRate=pa,e.PlaybackRateMenuButton=aa,e.Player=ca,e.PosterImage=E,e.ProgressControl=St,e.RemainingTimeDisplay=R,e.ReplayControl=It,e.SeekBar=Tt,e.Shortcut=gt,e.Slider=bt,e.TimeDivider=F,e.Video=ht,e.VolumeMenuButton=qt,e.operationReducer=v,e.playerActions=et,e.playerReducer=m,e.videoActions=Ze,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=video-react.min.js.map
